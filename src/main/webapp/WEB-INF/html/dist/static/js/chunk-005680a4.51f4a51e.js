(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-005680a4"],{"2cc3":function(e,t,r){"use strict";r("705f")},"5c07":function(e,t,r){},"705f":function(e,t,r){},"7f43":function(e,t,r){"use strict";r("5c07")},"83b7":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[e._v("区域内容列表")]),e._v(" "),r("div",{staticClass:"add-button"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd()}}},[e._v("添加内容")])],1),e._v(" "),r("div",{staticClass:"table-container"},[r("el-table",{attrs:{data:e.areaList,border:""}},[r("el-table-column",{attrs:{label:"序号",width:"60",type:"index"}}),e._v(" "),e._e(),e._v(" "),r("el-table-column",{attrs:{label:"区域名称",prop:"areaName"}}),e._v(" "),r("el-table-column",{attrs:{label:"优先级",prop:"priority",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{label:"发布时间",prop:"createTime",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.getDate(t.row.createTime))+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"修改时间",prop:"lastEditTime",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.getDate(t.row.lastEditTime))+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{on:{click:function(r){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{type:"danger",disabled:t.row.areaId<3},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("\n            删除\n          ")])]}}])})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:e.dialogTitle,width:"800px",visible:e.showDialog,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.showDialog=t},close:e.resetForm}},[r("el-form",{ref:"form",attrs:{model:e.temp,"label-width":"90px",rules:e.rules,"hide-required-asterisk":""}},[r("el-form-item",{attrs:{label:"区域名称",prop:"areaName"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.temp.areaName,callback:function(t){e.$set(e.temp,"areaName",t)},expression:"temp.areaName"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[r("el-col",{attrs:{span:11}},[r("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入数字，最多5位",maxlength:"5"},model:{value:e.temp.priority,callback:function(t){e.$set(e.temp,"priority",t)},expression:"temp.priority"}})],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showDialog=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){"添加内容"===e.dialogTitle?e.confirmAdd():e.confirmEdit()}}},[e._v("保 存")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"提示",visible:e.showDeleteDialog,width:"400px"},on:{"update:visible":function(t){e.showDeleteDialog=t}}},[r("span",[e._v("确认删除内容?此操作不可撤销,请谨慎操作")]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showDeleteDialog=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:e.confirmDelete}},[e._v("删 除")])],1)])],1)},n=[],i=(r("96cf"),r("1da1")),o={data:function(){return{areaList:[],dialogTitle:"",showDialog:!1,temp:{areaId:"",areaName:"",priority:""},fileList:[],isType:0,isExit:!1,param:"",options:[{value:"1",label:"二手市场"},{value:"2",label:"美容美发"},{value:"3",label:"美食饮品"},{value:"4",label:"休闲娱乐"},{value:"5",label:"培训教育"},{value:"6",label:"租赁市场"},{value:null,label:"一级列表"}],value:"一级列表",rules:{areaName:[{required:!0,message:"区域名称不能为空",trigger:"blur"}],areaDesc:[{required:!0,message:"区域描述不能为空",trigger:"blur"}],areaImage:[{required:!0,message:"区域图片不能为空",trigger:"change"}],priority:[{required:!0,message:"优先级不能为空",trigger:"blur"}],createTime:[{required:!0,message:"创建时间不能为空",trigger:"blur"}],lastEditTime:[{required:!0,message:"修改时间不能为空",trigger:"blur"}]},showDeleteDialog:!1}},created:function(){this.getAreaList()},methods:{getAreaList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.areaData=this.req({url:"superadmin/listarea",method:"GET"}).then((function(e){t.areaList=e.rows,console.log(t.areaList)}),(function(e){console.log("err: ",e),t.$message.success(e)}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDate:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},selectChange:function(e){this.temp.parent.areaId=e,console.log(this.temp.parent),console.log("e",e)},handleAdd:function(){this.dialogTitle="添加内容",this.showDialog=!0},handleEdit:function(e){var t=this;this.dialogTitle="编辑内容",this.showDialog=!0,this.$nextTick((function(){t.temp.areaId=e.areaId,t.temp.areaName=e.areaName,t.temp.priority=e.priority}))},handleDelete:function(e){this.showDeleteDialog=!0,this.temp.areaId=e.areaId},confirmAdd:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.form.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r&&(t.param=new FormData,t.param.append("areaStr",JSON.stringify(t.temp)),t.req({url:"superadmin/addarea",data:t.param,method:"POST"}).then((function(e){t.getAreaList(),t.$message.success("添加成功")}),(function(e){console.log("err: ",e)})),t.showDialog=!1,t.$refs.form.resetFields());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmEdit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.form.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:new FormData,r&&(t.param=new FormData,t.param.append("areaStr",JSON.stringify(t.temp)),t.req({url:"superadmin/modifyarea",data:t.param,method:"POST"}).then((function(e){t.getAreaList(),t.$message.success("修改成功")}),(function(e){console.log("err: ",e)})),t.showDialog=!1,t.$refs.form.resetFields());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmDelete:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.req({url:"superadmin/removearea?areaId="+this.temp.areaId,data:this.param,method:"POST"}).then((function(e){t.showDeleteDialog=!1,t.getAreaList(),t.$message.success("删除成功")}),(function(e){console.log("err: ",e)}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetForm:function(){this.$refs.form.resetFields(),this.isType=0}}},s=o,l=(r("7f43"),r("2cc3"),r("2877")),c=Object(l["a"])(s,a,n,!1,null,"04ec2477",null);t["default"]=c.exports}}]);